<?xml version="1.0" encoding="windows-1251" ?>

<!DOCTYPE page [
<!ENTITY nbsp "&#160;">
<!ENTITY пробел "&#160;">
<!ENTITY shy "&#173;">
<!ENTITY перенос "&#173;">
]>

<?xml:stylesheet type="text/xsl" href="../common/layout.xsl" ?>
<Урок xmlns="x-schema:Schema.xml" название="MySQL"  предыдущий="section01.xml" следующий="section03.xml">
<H1>Поддержка и восстановление баз данных</H1>
<P>В идеале сервер MySQL должен безо всяких проблем начать 
работать сразу же после инсталляции и жить долго и счастливо... Однако иногда 
проблемы все же возникают, и причины их появления могут быть самые разные, от 
внезапного отключения электричества до сбоя в работе аппаратных средств и 
некорректного завершения работы сервера MySQL. Многие из этих ситуаций 
администратор не в состоянии контролировать даже при большом желании(а на ИБП 
шеф денег не дает),&nbsp;и результатом их появления может стать повреждение 
таблиц баз данных, вызываемое наиболее часто незавершенной операцией записи или 
изменения. В этом уроке&nbsp;рассказывается,            
как определить и разрешить подобные проблемы, возникающие с таблицами, независимо от причин 
их вызвавших. </P>
<P> Наилучшими средствами проверки и восстановления таблиц для администратора 
являются утилиты <STRONG>myisamchk</STRONG> и <STRONG>isamchk</STRONG> , обладающие похожими 
возможностями. Обычно процедура обнаружения и исправления ошибок состоит из 
следующих этапов:</P>
<UL>
  <LI>&nbsp;Проверка таблицы на наличие ошибок. Если ошибки 
  в таблице отсутствуют, процедура завершается. В любом другом случае возникает 
  необходимость в их устранении.</LI> 
  <LI>&nbsp;Создание копий файлов таблиц перед началом 
  восстановления на случай негативного развития событий.&nbsp; </LI> 
  <LI>&nbsp;Попытка исправления таблицы.&nbsp; </LI> 
  <LI>&nbsp;Если эта попытка оказывается неудачной, остается 
  лишь восстановить базу данных из архива и журналов обновлений. Выполнение 
  последнего этапа описанной процедуры предполагает, что администратор аккуратно 
  выполняет резервирование и активизировал регистрацию запросов на обновление 
  таблиц. В любом другом случае его ждут большие неприятности. 
  <p>      
    Настоятельно рекомендуем внимательно прочитать разделы, в которых рассказывается об использовании 
  программы mysqldump и регистрации обновлений. Мало кто из администраторов 
  захочет столкнуться с проблемой безвозвратной потери таблицы из-за того, что&nbsp;поленился активизировать 
  регистрацию. </p>        
         </LI></UL>
<P>&nbsp;Прежде чем приступить к проверке и восстановлению таблиц с помощью 
утилит myisamchk и isamchk, следуйте приведенным ниже рекомендациям.</P>
<UL>
  <LI>
  Организуйте периодическое резервирование баз данных и активизируйте 
  регистрацию на случай невозможности восстановления содержимого поврежденных 
  таблиц.</LI> 
  <LI>
 Внимательно прочитайте все разделы этого урока, 
  прежде чем приступать к каким-либо действиям. В частности, не следует 
  выполнять описанные здесь инструкции до тех пор, пока не ознакомитесь с 
  материалом раздела "Как исключить возможность одновременного доступа к 
  таблицам сервера MySQL и утилит". В этом разделе описываются проблемы, 
  возникающие при попытке проверки или восстановления таблицы одновременно с 
  доступом к ней со стороны сервера. В нем также рассказывается, как защититься от 
  возникновения проблем такого рода, временно приостановив работу сервера.&nbsp; 
</LI>
  <LI>
  Выполняя проверку и восстановление таблиц, следует зарегистрироваться 
  под тем же именем пользователя, которое применяется для запуска mysqld, чтобы 
  иметь доступ к файлам таблиц с правами чтения и записи. 
</LI></UL>
<p>
Итак, приступим к изучению средств и методов проверки, резервироваия&nbsp;и восстановления.
</p>
</Урок>
